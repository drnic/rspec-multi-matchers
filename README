# Helpers for Rspec

# match_each
# match_enum
# match_in_order

require 'rubygems'
require 'spec'
require 'lib/match_each'

describe 'array of ones' do
  it 'should fail on 2' do
    [1,2,3].should each { |n| 
      n.should == 1
    }
  end
end

=begin output
'array of ones should fail on 2' FAILED
    line: 14
  item 1: 2
expected: 1,
     got: 2 (using ==)
=end

# as expected, the output shows expected and got fields
# line is the line number of the expectiation inside the block
# the item line gives the index of the item being yielded to the block, and the item itself

### WARNING ###
# note the use of brackets  '{ ... }' instead of 'do ... end'
# this is necessary because 'do .. end' does not bind strong enough
